# ============================================
# K3s Cluster Configuration
# ============================================
# Copy this file to ".env" and configure with your values
# ============================================

# === Cluster Information ===
# Name of your cluster for identification
CLUSTER_NAME="tema-cluster"

# === K3s Version ===
# Specific k3s version to install
# Check available versions: https://github.com/k3s-io/k3s/releases
K3S_VERSION="v1.28.5+k3s1"

# === Master Node Configuration ===
# (Used by setup-master.sh)
# These will be automatically detected from VPN (tun0)
# No configuration needed - script will use tun0 IP

# === Worker Node Configuration ===
# (Used by setup-worker.sh)

# Node name for this worker (must be unique per worker)
# Example: "worker-01", "edge-node-1", "cloud-node-2"
NODE_NAME="worker-01"

# Master server URL (from cluster-info.txt after master setup)
# Use VPN IP address of master node
# Example: "https://10.8.0.1:6443"
K3S_URL="https://10.8.0.1:6443"

# Cluster join token (from cluster-info.txt after master setup)
# This is the secret token from /var/lib/rancher/k3s/server/node-token on master
K3S_TOKEN="K10abc...::server:xyz123..."

# === Rancher Configuration (Optional) ===
# (Used by setup-rancher.sh)

# Rancher version (stable, latest, or specific version like v2.7.0)
RANCHER_VERSION="stable"

# Rancher web UI ports
RANCHER_HTTP_PORT="9001"
RANCHER_HTTPS_PORT="8443"

# ============================================
# IMPORTANT NOTES
# ============================================
# 
# VPN Requirements:
# - All nodes (master and workers) must be connected to VPN (tun0)
# - VPN must be active BEFORE running setup scripts
# - Use VPN IP addresses for all cluster communications
#
# Setup Order:
# 1. Setup master: sudo ./setup-master.sh
# 2. Copy token from cluster-info.txt to this file
# 3. Setup workers: sudo ./setup-worker.sh (on each worker)
# 4. Setup kubectl: sudo ./setup-kubectl.sh (on master)
# 5. (Optional) Setup Rancher: sudo ./setup-rancher.sh
#
# Security:
# - Protect this file: chmod 600 .env
# - Never commit .env to git
# - Keep K3S_TOKEN secret
# ============================================
